"use strict";(self.webpackChunkbn_gym=self.webpackChunkbn_gym||[]).push([[928],{8928:(Ze,C,a)=>{a.r(C),a.d(C,{GymUserModule:()=>Ae});var l=a(433),g=a(590),e=a(1571),c=a(6488),q=a(446),G=a(529),k=a(7187);let U=(()=>{class i{constructor(t,r){this.http=t,this.auth=r,this.baseUrl=`${q._}/GymUser`}addGymUser(t){return this.http.post(this.baseUrl,t)}getAllUsers(t,r,n,o,u){return this.http.get(this.baseUrl+`?PageSize=${t}&Page=${r}&SearchString=${n}&SortOrder=${o}&?SortParam=${u}`)}getUser(t){return this.http.get(this.baseUrl+"/"+t)}freeze(t){return this.http.put(this.baseUrl+"/freez/"+t,void 0)}Activate(t){return this.http.put(this.baseUrl+"/activate/"+t,void 0)}Extend(t,r){return this.http.put(this.baseUrl+"/extend/"+t,r)}Update(t,r){return this.http.put(this.baseUrl+"/"+t,r)}freezAll(){return this.http.put(this.baseUrl+"/freez-all",void 0)}activateAll(){return this.http.put(this.baseUrl+"/activate-all",void 0)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(G.eN),e.LFG(k.B))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var A=a(1585),z=a(9336),d=a(6895);function N(i,s){1&i&&e._UZ(0,"span",22)}function S(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.Freez())}),e._uU(1," Zamrzni "),e.qZA()}}function I(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",23),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.Activate())}),e._uU(1," Aktiviraj "),e.qZA()}}function D(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.checkIn())}),e._uU(1," CheckIn "),e.qZA()}}function M(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",24),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.Extend())}),e._uU(1," Produzi \u010dlanarinu "),e.qZA()}}function w(i,s){1&i&&(e.TgZ(0,"button",32),e._uU(1," Produzi \u010dlanarinu "),e.qZA())}const h=function(i){return{"is-invalid":i}};function J(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"form",2),e.NdJ("ngSubmit",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.ExtendMembersip())}),e.TgZ(2,"div",3)(3,"span"),e._uU(4,"Tip"),e.qZA(),e.TgZ(5,"select",25)(6,"option",26),e._uU(7,"Pola mjeseca"),e.qZA(),e.TgZ(8,"option",27),e._uU(9,"Mjesec"),e.qZA(),e.TgZ(10,"option",28),e._uU(11,"Tri mjeseca"),e.qZA(),e.TgZ(12,"option",29),e._uU(13,"Pola godine"),e.qZA(),e.TgZ(14,"option",30),e._uU(15,"Godina"),e.qZA()()(),e.YNc(16,w,2,0,"button",31),e.qZA()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("formGroup",t.formExtend),e.xp6(4),e.Q6J("ngClass",e.VKq(3,h,t.submitted&&t.f.type.errors)),e.xp6(11),e.Q6J("ngIf","Ne"==t.model.isFrozen)}}let Q=(()=>{class i{constructor(t,r,n,o,u,f,v){this.route=t,this.router=r,this.gymUserService=n,this.alertService=o,this.formBuilder=u,this.formBuilder1=f,this.checkInService=v,this.model={},this.id="",this.splited=[],this.numberOfMonths=0,this.mjeseci=[.5,1,3,6,12],this.submitted=!1,this.loading=!1,this.extend=!1,this.index=0,this.form=this.formBuilder.group({title:this.formBuilder.control("initial value",l.kI.required)}),this.formExtend=this.formBuilder1.group({title:f.control("type",l.kI.required)})}ngOnInit(){this.id=this.route.snapshot.paramMap.get("id"),this.getUser(this.id??""),this.form=this.formBuilder.group({firstname:["",l.kI.required],lastname:["",l.kI.required],email:["",l.kI.required],address:["",l.kI.required],userType:["",l.kI.required]}),this.formExtend=this.formBuilder.group({type:["",l.kI.required]})}get f(){return this.form.controls}get g(){return this.formExtend.controls}getUser(t){this.gymUserService.getUser(t).subscribe(r=>{this.model=r;let n=this.model.expiresOn.toString();this.splited=n.split("T",2),this.model.expiresOn=this.splited[0];let o=this.model.lastCheckIn.toString();if(this.splited=o.split("T",2),this.model.lastCheckIn=this.splited[0],"0001-01-01"==this.model.lastCheckIn||"null"===this.model.lastCheckIn)this.model.lastCheckIn="Nema ni jedan dolazak...";else{const u=new Date(this.model.lastCheckIn),f=60*u.getTimezoneOffset()*1e3;let Z=new Date(u.getTime()-f).toLocaleString();this.model.lastCheckIn=Z}if(0==this.model.isFrozen)this.model.isFrozen="Ne",this.model.freezeDate="";else{this.model.isFrozen="Da";let u=this.model.freezeDate.toString();this.splited=u.split("T",2);const v=new Date(this.splited[0]),Z=60*v.getTimezoneOffset()*1e3;let be=new Date(v.getTime()-Z).toLocaleString();this.model.freezeDate=be}0==this.model.type?(this.model.type="Pola mjeseca",this.index=0):1==this.model.type?(this.model.type="Mjesec dana",this.index=1):2==this.model.type?(this.model.type="Tri mjeseca",this.index=2):3==this.model.type?(this.model.type="Pola godine",this.index=3):(this.model.type="Godinu dana",this.index=4)})}Freez(){this.gymUserService.freeze(this.model.id??"").subscribe(t=>{this.router.navigateByUrl("/gym-user/all-gym-users"),this.alertService.success(`\u010clanarina korisnika ${this.model.firstName} je zamrznuta!`)})}Activate(){this.gymUserService.Activate(this.model.id??"").subscribe(t=>{this.router.navigateByUrl("/gym-user/all-gym-users"),this.alertService.success(`Korisnika ${this.model.firstName} aktiviran`)})}Extend(){this.extend=!0}ExtendMembersip(){let t=this.g.type.value;t="HalfMonth"==t?0:"Month"==t?1:"ThreeMonts"==t?2:"HalfYear"==t?3:4,this.gymUserService.Extend(this.model.id??"",{Type:t}).subscribe(r=>{this.router.navigateByUrl("/gym-user/all-gym-users"),this.alertService.success(`Uspije\u0161no produ\u017eena \u010dlanarina za \u010dlana: ${this.model.firstName} ${this.model.lastName}`)})}Update(){""!=this.f.firstname.value&&(this.model.firstName=this.f.firstname.value),""!=this.f.lastname.value&&(this.model.lastName=this.f.lastname.value),""!=this.f.email.value&&(this.model.email=this.f.email.value),""!=this.f.address.value&&(this.model.address=this.f.address.value),""!=this.f.userType.value&&(this.model.type=this.f.userType.value),this.model.type="HalfMonth"==this.model.type?0:"Month"==this.model.type?1:"ThreeMonts"==this.model.type?2:"HalfYear"==this.model.type?3:4,this.gymUserService.Update(this.model.id??"",this.model).pipe((0,g.P)()).subscribe({next:()=>{this.router.navigateByUrl("/gym-user/all-gym-users"),this.alertService.success("Korisnikov profil promenjen!")},error:t=>{this.alertService.error(t.error.message),this.loading=!1}})}checkIn(){this.checkInService.checkIn(this.model.id).pipe((0,g.P)()).subscribe({next:()=>{this.router.navigateByUrl("/checkIn-history/view-checkins-by-date"),this.alertService.success(`Korisnik ${this.model.firstName} evidentiran!`)},error:t=>{this.alertService.error(t.error.message),this.loading=!1}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(c.gz),e.Y36(c.F0),e.Y36(U),e.Y36(A.c),e.Y36(l.qu),e.Y36(l.qu),e.Y36(z.V))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-view-gym-user"]],decls:88,vars:52,consts:[[2,"text-align","center"],[2,"margin","auto","width","750px"],["ngNativeValidate","",3,"formGroup","ngSubmit"],[2,"width","700px"],["formControlName","firstname","type","text","aria-label","Default","aria-describedby","inputGroup-sizing-default","required","",1,"form-control",3,"value","ngClass"],["formControlName","lastname","type","text","aria-label","Default","aria-describedby","inputGroup-sizing-default","required","",1,"form-control",3,"value","ngClass"],["formControlName","email","type","text","aria-label","Default","aria-describedby","inputGroup-sizing-default","required","",1,"form-control",3,"value","ngClass"],["formControlName","address","type","text","aria-label","Default","aria-describedby","inputGroup-sizing-default",1,"form-control",3,"value","ngClass"],["formControlName","userType","required","",1,"form-control",3,"ngClass"],["value","HalfMonth",3,"selected"],["value","Month",3,"selected"],["value","ThreeMonts",3,"selected"],["value","HalfYear",3,"selected"],["value","Year",3,"selected"],[1,"form-group"],[1,"btn","btn-primary",2,"margin-top","2%",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["type","text","aria-label","Default","aria-describedby","inputGroup-sizing-default","readonly","true",1,"form-control",3,"placeholder","value"],["type","text","aria-label","Default","aria-describedby","inputGroup-sizing-default","readonly","true",1,"form-control",3,"placeholder"],["mat-stroked-button","","color","warn","class","btn btn-primary",3,"click",4,"ngIf"],["style","margin-left: 10%","mat-stroked-button","","color","warn","class","btn btn-primary",3,"click",4,"ngIf"],[4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"],["mat-stroked-button","","color","warn",1,"btn","btn-primary",3,"click"],["mat-stroked-button","","color","warn",1,"btn","btn-primary",2,"margin-left","10%",3,"click"],["formControlName","type","placeholder","Izaberite tip...","required","",1,"form-control",3,"ngClass"],["value","HalfMonth"],["value","Month"],["value","ThreeMonts"],["value","HalfYear"],["value","Year"],["mat-stroked-button","","color","warn","class","btn btn-primary",4,"ngIf"],["mat-stroked-button","","color","warn",1,"btn","btn-primary"]],template:function(t,r){1&t&&(e.TgZ(0,"h2",0),e._uU(1),e.qZA(),e._UZ(2,"hr")(3,"br"),e.TgZ(4,"div",1)(5,"form",2),e.NdJ("ngSubmit",function(){return r.Update()}),e.TgZ(6,"div",3)(7,"div")(8,"span"),e._uU(9,"Ime"),e.qZA()(),e._UZ(10,"input",4),e.qZA(),e.TgZ(11,"div",3)(12,"div")(13,"span"),e._uU(14,"Prezime"),e.qZA()(),e._UZ(15,"input",5),e.qZA(),e.TgZ(16,"div",3)(17,"div")(18,"span"),e._uU(19,"Email"),e.qZA()(),e._UZ(20,"input",6),e.qZA(),e.TgZ(21,"div",3)(22,"div")(23,"span"),e._uU(24,"Adresa"),e.qZA()(),e._UZ(25,"input",7),e.qZA(),e.TgZ(26,"div",3)(27,"span"),e._uU(28,"Tip"),e.qZA(),e.TgZ(29,"select",8)(30,"option",9),e._uU(31,"Pola mjeseca"),e.qZA(),e.TgZ(32,"option",10),e._uU(33,"Mjesec"),e.qZA(),e.TgZ(34,"option",11),e._uU(35,"Tri mjeseca"),e.qZA(),e.TgZ(36,"option",12),e._uU(37,"Pola godine"),e.qZA(),e.TgZ(38,"option",13),e._uU(39,"Godina"),e.qZA()()(),e.TgZ(40,"div",14)(41,"button",15),e.YNc(42,N,1,0,"span",16),e._uU(43," Promijeni "),e.qZA()()(),e.TgZ(44,"div",3)(45,"div")(46,"span"),e._uU(47,"\u010clanarina isti\u010de"),e.qZA()(),e._UZ(48,"input",17),e.ALo(49,"date"),e.qZA(),e.TgZ(50,"div",3)(51,"div")(52,"span"),e._uU(53,"Zamrznut"),e.qZA()(),e._UZ(54,"input",18),e.qZA(),e.TgZ(55,"div",3)(56,"div")(57,"span"),e._uU(58,"Datum zamrzavanja"),e.qZA()(),e._UZ(59,"input",17),e.ALo(60,"date"),e.qZA(),e.TgZ(61,"div",3)(62,"div")(63,"span"),e._uU(64,"Aktivan"),e.qZA()(),e._UZ(65,"input",18),e.qZA(),e.TgZ(66,"div",3)(67,"div")(68,"span"),e._uU(69,"Poslednje prijavljivanje"),e.qZA()(),e._UZ(70,"input",17),e.ALo(71,"date"),e.qZA(),e.TgZ(72,"div",3)(73,"div")(74,"span"),e._uU(75,"Broj dolazaka ovog mjeseca"),e.qZA()(),e._UZ(76,"input",18),e.qZA(),e.TgZ(77,"div",3)(78,"div")(79,"span"),e._uU(80,"Broj dolazaka pro\u0161log mjeseca"),e.qZA()(),e._UZ(81,"input",18),e.qZA(),e.TgZ(82,"div"),e.YNc(83,S,2,0,"button",19),e.YNc(84,I,2,0,"button",19),e.YNc(85,D,2,0,"button",20),e.YNc(86,M,2,0,"button",20),e.YNc(87,J,17,5,"div",21),e.qZA()()),2&t&&(e.xp6(1),e.hij("\u010clan: ",r.model.firstName,""),e.xp6(4),e.Q6J("formGroup",r.form),e.xp6(5),e.s9C("value",r.model.firstName),e.Q6J("ngClass",e.VKq(42,h,r.submitted&&r.f.firstname.errors)),e.xp6(5),e.s9C("value",r.model.lastName),e.Q6J("ngClass",e.VKq(44,h,r.submitted&&r.f.lastname.errors)),e.xp6(5),e.s9C("value",r.model.email),e.Q6J("ngClass",e.VKq(46,h,r.submitted&&r.f.email.errors)),e.xp6(5),e.s9C("value",r.model.address),e.Q6J("ngClass",e.VKq(48,h,r.submitted&&r.f.address.errors)),e.xp6(4),e.Q6J("ngClass",e.VKq(50,h,r.submitted&&r.f.userType.errors)),e.xp6(1),e.Q6J("selected",0===r.index),e.xp6(2),e.Q6J("selected",1===r.index),e.xp6(2),e.Q6J("selected",2===r.index),e.xp6(2),e.Q6J("selected",3===r.index),e.xp6(2),e.Q6J("selected",4===r.index),e.xp6(3),e.Q6J("disabled",r.loading),e.xp6(1),e.Q6J("ngIf",r.loading),e.xp6(6),e.s9C("placeholder",r.model.expiresOn),e.s9C("value",e.xi3(49,33,r.model.expiresOn,"dd/MM/yyyy")),e.xp6(6),e.s9C("placeholder",r.model.isFrozen),e.xp6(5),e.s9C("placeholder",r.model.freezeDate),e.s9C("value",e.xi3(60,36,r.model.freezeDate,"dd/MM/yyyy")),e.xp6(6),e.Q6J("placeholder",r.model.isInActive?"Ne":"Da"),e.xp6(5),e.s9C("placeholder",r.model.lastCheckIn),e.s9C("value",e.xi3(71,39,r.model.lastCheckIn,"dd/MM/yyyy HH:mm")),e.xp6(6),e.s9C("placeholder",r.model.numberOfArrivalsCurrentMonth),e.xp6(5),e.s9C("placeholder",r.model.numberOfArrivalsLastMonth),e.xp6(2),e.Q6J("ngIf","Ne"==r.model.isFrozen),e.xp6(1),e.Q6J("ngIf","Da"==r.model.isFrozen),e.xp6(1),e.Q6J("ngIf","Ne"==r.model.isFrozen),e.xp6(1),e.Q6J("ngIf","Ne"==r.model.isFrozen&&0==r.extend),e.xp6(1),e.Q6J("ngIf",1==r.extend))},dependencies:[d.mk,d.O5,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.Q7,l.sg,l.u,d.uU]}),i})();var b=a(1581),_=a(6308),m=a(7155),Y=a(8675),F=a(3900),j=a(262),V=a(4004),T=a(9549),x=a(4144);const O=function(){return["/gym-user/add-gym-user"]};function B(i,s){1&i&&(e.TgZ(0,"div")(1,"button",24),e._uU(2," Dodaj \u010clana "),e.qZA()()),2&i&&(e.xp6(1),e.Q6J("routerLink",e.DdM(1,O)))}function K(i,s){1&i&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Ime "),e.qZA())}const p=function(i){return{"inactive-row":i}};function E(i,s){if(1&i&&(e.TgZ(0,"mat-cell",25),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("ngClass",e.VKq(2,p,t.isInActive)),e.xp6(1),e.hij(" ",t.firstName," ")}}function H(i,s){1&i&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Prezime "),e.qZA())}function P(i,s){if(1&i&&(e.TgZ(0,"mat-cell",25),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("ngClass",e.VKq(2,p,t.isInActive)),e.xp6(1),e.hij(" ",t.lastName," ")}}function L(i,s){1&i&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Email "),e.qZA())}function $(i,s){if(1&i&&(e.TgZ(0,"mat-cell",25),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("ngClass",e.VKq(2,p,t.isInActive)),e.xp6(1),e.hij(" ",t.email," ")}}function R(i,s){1&i&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Aktivan "),e.qZA())}function X(i,s){if(1&i&&(e.TgZ(0,"mat-cell",25),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("ngClass",e.VKq(2,p,t.isInActive)),e.xp6(1),e.hij(" ",t.isInActive?"Ne":"Da"," ")}}function W(i,s){1&i&&(e.TgZ(0,"mat-header-cell"),e._uU(1," Zamrznut "),e.qZA())}function ee(i,s){if(1&i&&(e.TgZ(0,"mat-cell",25),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("ngClass",e.VKq(2,p,t.isInActive)),e.xp6(1),e.hij(" ",t.isFrozen?"Da":"Ne"," ")}}function te(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-header-cell",26),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.getRecord(""))}),e._uU(1," \u010clanarina Isti\u010de "),e.qZA()}}function ie(i,s){if(1&i&&(e.TgZ(0,"mat-cell",25),e._uU(1),e.ALo(2,"date"),e.qZA()),2&i){const t=s.$implicit;e.Q6J("ngClass",e.VKq(5,p,t.isInActive)),e.xp6(1),e.hij(" ",e.xi3(2,2,t.expiresOn,"dd/MM/yyyy")," ")}}function re(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-header-cell",26),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.getRecord("NumberOfArrivalsCurrentMonth"))}),e._uU(1," Broj dolazaka ovog meseca "),e.qZA()}}function se(i,s){if(1&i&&(e.TgZ(0,"mat-cell",25),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("ngClass",e.VKq(2,p,t.isInActive)),e.xp6(1),e.hij(" ",t.numberOfArrivalsCurrentMonth," ")}}function ne(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-header-cell",26),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.getRecord("NumberOfArrivalsLastMonth"))}),e._uU(1," Broj dolazaka proslog meseca "),e.qZA()}}function le(i,s){if(1&i&&(e.TgZ(0,"mat-cell",25),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("ngClass",e.VKq(2,p,t.isInActive)),e.xp6(1),e.hij(" ",t.numberOfArrivalsLastMonth," ")}}function ae(i,s){1&i&&e._UZ(0,"mat-header-cell")}const oe=function(i){return["/gym-user/view-gym-user",i]};function me(i,s){if(1&i&&(e.TgZ(0,"button",29),e._uU(1," Pogledaj "),e.qZA()),2&i){const t=e.oxw().$implicit;e.Q6J("routerLink",e.VKq(1,oe,t.userId))}}function ue(i,s){if(1&i&&(e.TgZ(0,"mat-cell",27),e.YNc(1,me,2,3,"button",28),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.visible)}}function de(i,s){1&i&&e._UZ(0,"mat-header-row")}function ce(i,s){1&i&&e._UZ(0,"mat-row")}function pe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.clickMethodFreez())}),e._uU(1,"Zamrzni sve korisnike"),e.qZA()}}function fe(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",30),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.clickMethodActivate())}),e._uU(1,"Aktiviraj sve korisnike"),e.qZA()}}const he=function(){return[5,10,15,50,100]};let ge=(()=>{class i{constructor(t,r,n){this.gymUserService=t,this.alertService=r,this.router=n,this.visible=!0,this.id="",this.pageSize=5,this.pageNumber=1,this.searchText="",this.loading=!1,this.totalUsers=0,this.pageSizeOption=[5,10,25,50,100],this.EmpData=[],this.filterValue="",this.isAllFrozen=!1,this.model={},this.submitted=!1,this.displayedColumns=["firstName","lastName","email","isInActive","isFrozen","expiresOn","numberOfArrivalsCurrentMonth","numberOfArrivalsLastMonth","Buttons"],this.dataSource=new m.by,this.sort=new _.YE}ngOnInit(){}getTableData$(t,r,n,o,u){return this.gymUserService.getAllUsers(r,t,n,o,u)}ngAfterViewInit(){this.getData("","desc"!==this.sort.direction?0:1,""),this.isAllFrozen=null!=localStorage.getItem("isAllFrozen")&&"false"!=localStorage.getItem("isAllFrozen"),localStorage.setItem("isAllFrozen",this.isAllFrozen.toString())}applyFilter(t){this.filterValue=t.target.value,this.filterValue=this.filterValue.trim(),this.filterValue=this.filterValue.toLowerCase(),this.getData(this.filterValue,"desc"!==this.sort.direction?0:1,"")}getData(t,r,n){this.dataSource.paginator=this.paginator,this.paginator&&this.paginator.page.pipe((0,Y.O)({}),(0,F.w)(()=>(this.loading=!0,this.getTableData$(this.paginator.pageIndex+1,this.paginator.pageSize,t,r,n).pipe((0,j.K)(()=>function _e(i){throw new Error("Function not implemented.")}())))),(0,V.U)(o=>null==o?[]:(this.totalUsers=o.count,this.loading=!1,o.items))).subscribe(o=>{this.EmpData=o,this.dataSource=new m.by(this.EmpData),this.dataSource.sort=this.sort})}getRecord(t){this.getData(this.filterValue,"desc"!==this.sort.direction?0:1,t)}freezAll(){this.gymUserService.freezAll().pipe((0,g.P)()).subscribe({next:()=>{this.isAllFrozen=!0,localStorage.setItem("isAllFrozen",this.isAllFrozen.toString()),this.router.navigateByUrl("/gym-user/all-gym-users"),this.alertService.success("Svi korisnici zamrznuti!"),this.getData("","desc"!==this.sort.direction?0:1,"")},error:t=>{this.alertService.error(t.error.message),this.loading=!1}})}activateAll(){this.gymUserService.activateAll().pipe((0,g.P)()).subscribe({next:()=>{this.isAllFrozen=!1,localStorage.setItem("isAllFrozen",this.isAllFrozen.toString()),this.router.navigateByUrl("/gym-user/all-gym-users"),this.alertService.success("Svi korisnici aktivirani!"),this.getData("","desc"!==this.sort.direction?0:1,"")},error:t=>{this.alertService.error(t.error.message),this.loading=!1}})}clickMethodFreez(){confirm("Da li ste sigurni da \u017eelite sve da zamrznete? ")&&this.freezAll()}clickMethodActivate(){confirm("Da li ste sigurni da \u017eelite sve da aktivirate? ")&&this.activateAll()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(U),e.Y36(A.c),e.Y36(c.F0))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-all-gym-users"]],viewQuery:function(t,r){if(1&t&&(e.Gf(b.NW,5),e.Gf(_.YE,5)),2&t){let n;e.iGM(n=e.CRH())&&(r.paginator=n.first),e.iGM(n=e.CRH())&&(r.sort=n.first)}},decls:44,vars:9,consts:[[2,"padding-top","3%"],[4,"ngIf"],[1,"example-header"],["matInput","","placeholder","Trazi",3,"keyup"],[1,"example-container","mat-elevation-z8"],["matSort","",3,"dataSource"],["matColumnDef","firstName"],[4,"matHeaderCellDef"],[3,"ngClass",4,"matCellDef"],["matColumnDef","lastName"],["matColumnDef","email"],["matColumnDef","isInActive"],["matColumnDef","isFrozen"],["matColumnDef","expiresOn"],["mat-sort-header","",3,"click",4,"matHeaderCellDef"],["matColumnDef","numberOfArrivalsCurrentMonth"],["matColumnDef","numberOfArrivalsLastMonth"],["matColumnDef","Buttons"],["class","mat-cell",4,"matCellDef"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","",3,"length","pageSizeOptions"],["paginator",""],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary",3,"routerLink"],[3,"ngClass"],["mat-sort-header","",3,"click"],[1,"mat-cell"],["mat-stroked-button","","color","warn","class","btn btn-secondary",3,"routerLink",4,"ngIf"],["mat-stroked-button","","color","warn",1,"btn","btn-secondary",3,"routerLink"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(t,r){1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Svi \u010clanovi"),e.qZA(),e._UZ(2,"br"),e.YNc(3,B,3,2,"div",1),e._UZ(4,"br"),e.TgZ(5,"div",2)(6,"mat-form-field")(7,"input",3),e.NdJ("keyup",function(o){return r.applyFilter(o)}),e.qZA()()(),e.TgZ(8,"div",4)(9,"mat-table",5),e.ynx(10,6),e.YNc(11,K,2,0,"mat-header-cell",7),e.YNc(12,E,2,4,"mat-cell",8),e.BQk(),e.ynx(13,9),e.YNc(14,H,2,0,"mat-header-cell",7),e.YNc(15,P,2,4,"mat-cell",8),e.BQk(),e.ynx(16,10),e.YNc(17,L,2,0,"mat-header-cell",7),e.YNc(18,$,2,4,"mat-cell",8),e.BQk(),e.ynx(19,11),e.YNc(20,R,2,0,"mat-header-cell",7),e.YNc(21,X,2,4,"mat-cell",8),e.BQk(),e.ynx(22,12),e.YNc(23,W,2,0,"mat-header-cell",7),e.YNc(24,ee,2,4,"mat-cell",8),e.BQk(),e.ynx(25,13),e.YNc(26,te,2,0,"mat-header-cell",14),e.YNc(27,ie,3,7,"mat-cell",8),e.BQk(),e.ynx(28,15),e.YNc(29,re,2,0,"mat-header-cell",14),e.YNc(30,se,2,4,"mat-cell",8),e.BQk(),e.ynx(31,16),e.YNc(32,ne,2,0,"mat-header-cell",14),e.YNc(33,le,2,4,"mat-cell",8),e.BQk(),e.ynx(34,17),e.YNc(35,ae,1,0,"mat-header-cell",7),e.YNc(36,ue,2,1,"mat-cell",18),e.BQk(),e.YNc(37,de,1,0,"mat-header-row",19),e.YNc(38,ce,1,0,"mat-row",20),e.qZA()(),e._UZ(39,"mat-paginator",21,22),e.TgZ(41,"div"),e.YNc(42,pe,2,0,"button",23),e.YNc(43,fe,2,0,"button",23),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngIf",r.visible),e.xp6(6),e.Q6J("dataSource",r.dataSource),e.xp6(28),e.Q6J("matHeaderRowDef",r.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",r.displayedColumns),e.xp6(1),e.Q6J("length",r.totalUsers)("pageSizeOptions",e.DdM(8,he)),e.xp6(3),e.Q6J("ngIf",0==r.isAllFrozen),e.xp6(1),e.Q6J("ngIf",1==r.isAllFrozen))},dependencies:[d.mk,d.O5,c.rH,m.BZ,m.fO,m.as,m.w1,m.Dz,m.nj,m.ge,m.ev,m.XQ,m.Gk,b.NW,T.KE,x.Nt,_.YE,_.nU,d.uU],styles:[".mat-column-Buttons[_ngcontent-%COMP%]{flex:0 0 15%}.inactive-row[_ngcontent-%COMP%]{background-color:#d3d3d3}"]}),i})();function ye(i,s){1&i&&e._UZ(0,"span",17)}const y=function(i){return{"is-invalid":i}},ve=[{path:"",component:(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-gym-user"]],decls:2,vars:0,consts:[[1,"col-md-6","offset-md-3","mt-5"]],template:function(t,r){1&t&&(e.TgZ(0,"div",0),e._UZ(1,"router-outlet"),e.qZA())},dependencies:[c.lC],encapsulation:2}),i})(),children:[{path:"add-gym-user",component:(()=>{class i{constructor(t,r,n,o){this.formBuilder=t,this.router=r,this.gymUserService=n,this.alertService=o,this.model={},this.submitted=!1,this.loading=!1,this.form=this.formBuilder.group({title:this.formBuilder.control("initial value",l.kI.required)})}ngOnInit(){this.form=this.formBuilder.group({firstname:["",l.kI.required],lastname:["",l.kI.required],email:["",l.kI.required],address:["",l.kI.required],type:["",l.kI.required]})}onSubmit(){this.submitted=!0,this.alertService.clear()}get f(){return this.form.controls}add(){this.model.firstName=this.f.firstname.value,this.model.lastName=this.f.lastname.value,this.model.email=this.f.email.value,this.model.address=this.f.address.value,this.model.type="HalfMonth"==this.f.type.value?0:"Month"==this.f.type.value?1:"ThreeMonts"==this.f.type.value?2:"HalfYear"==this.f.type.value?3:4,this.gymUserService.addGymUser(this.model).pipe((0,g.P)()).subscribe({next:()=>{this.router.navigateByUrl("/gym-user/all-gym-users"),this.alertService.success("Dodat novi korisnik!")},error:t=>{this.alertService.error(t.error.message),this.loading=!1}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(l.qu),e.Y36(c.F0),e.Y36(U),e.Y36(A.c))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-add-gym-user"]],decls:45,vars:18,consts:[[2,"text-align","center"],[2,"margin","auto","width","750px"],["ngNativeValidate","",3,"formGroup","ngSubmit"],[2,"width","700px"],["formControlName","firstname","type","text","aria-label","Default","aria-describedby","inputGroup-sizing-default","placeholder","Unesi ime...","required","",1,"form-control",3,"ngClass"],["formControlName","lastname","type","text","aria-label","Default","aria-describedby","inputGroup-sizing-default","placeholder","Unesi prezime...","required","",1,"form-control",3,"ngClass"],["formControlName","email","type","text","aria-label","Default","aria-describedby","inputGroup-sizing-default","placeholder","Unesi email...","required","",1,"form-control",3,"ngClass"],["formControlName","address","type","text","aria-label","Default","aria-describedby","inputGroup-sizing-default","placeholder","Unesi addresu...","required","",1,"form-control",3,"ngClass"],["formControlName","type","id","inputState","placeholder","Select type...","required","",1,"form-control",3,"ngClass"],["value","HalfMonth"],["value","Month"],["value","ThreeMonts"],["value","HalfYear"],["value","Year"],[1,"form-group",2,"margin-left","38%"],[1,"btn","btn-primary",2,"margin-top","2%",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(t,r){1&t&&(e.TgZ(0,"h2",0),e._uU(1,"Novi \u010dlan"),e.qZA(),e._UZ(2,"hr")(3,"br"),e.TgZ(4,"div",1)(5,"form",2),e.NdJ("ngSubmit",function(){return r.add()}),e.TgZ(6,"div",3)(7,"div")(8,"span"),e._uU(9,"Ime"),e.qZA()(),e._UZ(10,"input",4),e.qZA(),e.TgZ(11,"div",3)(12,"div")(13,"span"),e._uU(14,"Prezime"),e.qZA()(),e._UZ(15,"input",5),e.qZA(),e.TgZ(16,"div",3)(17,"div")(18,"span"),e._uU(19,"Email"),e.qZA()(),e._UZ(20,"input",6),e.qZA(),e.TgZ(21,"div",3)(22,"div")(23,"span"),e._uU(24,"Adresa"),e.qZA()(),e._UZ(25,"input",7),e.qZA(),e.TgZ(26,"div",3)(27,"div")(28,"label"),e._uU(29,"Tip"),e.qZA()(),e.TgZ(30,"select",8)(31,"option",9),e._uU(32,"Pola mjeseca"),e.qZA(),e.TgZ(33,"option",10),e._uU(34,"Mjesec"),e.qZA(),e.TgZ(35,"option",11),e._uU(36,"Tri mjeseca"),e.qZA(),e.TgZ(37,"option",12),e._uU(38,"Pola godine"),e.qZA(),e.TgZ(39,"option",13),e._uU(40,"Godina"),e.qZA()()(),e.TgZ(41,"div",14)(42,"button",15),e.YNc(43,ye,1,0,"span",16),e._uU(44," Dodaj "),e.qZA()()()()),2&t&&(e.xp6(5),e.Q6J("formGroup",r.form),e.xp6(5),e.Q6J("ngClass",e.VKq(8,y,r.submitted&&r.f.firstname.errors)),e.xp6(5),e.Q6J("ngClass",e.VKq(10,y,r.submitted&&r.f.lastname.errors)),e.xp6(5),e.Q6J("ngClass",e.VKq(12,y,r.submitted&&r.f.email.errors)),e.xp6(5),e.Q6J("ngClass",e.VKq(14,y,r.submitted&&r.f.address.errors)),e.xp6(5),e.Q6J("ngClass",e.VKq(16,y,r.submitted&&r.f.type.errors)),e.xp6(12),e.Q6J("disabled",r.loading),e.xp6(1),e.Q6J("ngIf",r.loading))},dependencies:[d.mk,d.O5,l.YN,l.Kr,l.Fj,l.EJ,l.JJ,l.JL,l.Q7,l.sg,l.u],styles:["span[_ngcontent-%COMP%], input[_ngcontent-%COMP%], label[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{font-size:larger}button[_ngcontent-%COMP%]{height:60px;width:150px;margin-left:57%}"]}),i})()},{path:"all-gym-users",component:ge},{path:"view-gym-user/:id",component:Q}]}];let Ue=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[c.Bz.forChild(ve),c.Bz]}),i})(),Ae=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[d.ez,l.UX,Ue,m.p0,b.TU,T.lN,x.c,_.JX]}),i})()}}]);